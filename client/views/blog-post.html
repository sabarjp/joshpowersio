<template name="post">
    <article class="ui black segment">
        <h2 class="ui left floated header">
            <a href="{{pathFor route='blog'}}">{{title}}</a>
        </h2>

        <h5 class="ui right floated header">
            Posted on {{formattedDate createdAt}}
        </h5>

        <div class="ui clearing divider"></div>

        <p class="content">
            {{#markdown}}{{content}}{{/markdown}}
        </p>

        {{#if currentUser}}
            <div>
                <a href="{{pathFor route='editPost'}}" id="edit-post" class="ui icon blue2 button">
                    <i class="wrench icon"></i>
                </a>
                <a href="{{pathFor route='removePost'}}" id="remove-post" class="ui icon black button">
                    <i class="remove icon"></i>
                </a>
            </div>
        {{/if}}

        <div class="ui bottom right attached label">
            {{tags}}
        </div>
    </article>
</template>

<template name="newPost">
    <div class="ui page grid">
        <div class="sixteen wide column">
            <h1 class="ui inverted header">New blog post</h1>
        </div>

        <div class="sixteen wide column">
            {{> validationErrors collectionName="posts" errorMessage="There was a problem creating the new blog post."}}
        </div>

        <div class="sixteen wide column">
            <form class="ui inverted form" id="post-add-form" action="action">
                <div class="field">
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" placeholder="Title"/>
                </div>

                <div class="field">
                    <label for="title">Slug</label>
                    <input type="text" id="slug" name="slug" placeholder="Slug"/>
                </div>

                <div class="field">
                    <label for="title">Tags</label>
                    <input type="text" id="tags" name="tags" placeholder="Tags"/>
                </div>

                <div class="field">
                    <label for="content">Content</label>
                    <textarea id="content" name="content" placeholder="Write something!"></textarea>
                </div>

                <div class="field">
                    <input type="submit" id="submit-button" class="ui inverted black button" value="Add" />
                </div>
            </form>
        </div>
    </div>
</template>

<template name="editPost">
    <div class="ui page grid">
        <div class="sixteen wide column">
            <h1 class="ui inverted header">Edit blog post</h1>
        </div>

        <div class="sixteen wide column">
            {{> validationErrors collectionName="posts" errorMessage="There was a problem changing the blog post."}}
        </div>

        <div class="sixteen wide column">
            <form class="ui inverted form" id="post-edit-form" action="action">
                <div class="field">
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" placeholder="Title" value="{{title}}"/>
                </div>

                <div class="field">
                    <label for="title">Slug</label>
                    <input type="text" id="slug" name="slug" placeholder="Slug" value="{{slug}}"/>
                </div>

                <div class="field">
                    <label for="title">Tags</label>
                    <input type="text" id="tags" name="tags" placeholder="Tags" value="{{tags}}"/>
                </div>

                <div class="field">
                    <label for="content">Content</label>
                    <textarea id="content" name="content" placeholder="Write something!" value="{{content}}"></textarea>
                </div>

                <div class="field">
                    <input type="submit" id="submit-button" class="ui inverted black button" value="Edit" />
                </div>
            </form>
        </div>
    </div>
</template>

<template name="removePost">
    <div class="ui page grid">
        <div class="sixteen wide column">
            <h1 class="ui inverted header">Remove blog post</h1>
        </div>

        <div class="sixteen wide column">
            <p class="inverted text">Are you sure you want to remove the following post? This cannot be undone!</p>
        </div>

        <div class="sixteen wide column">
            {{> validationErrors collectionName="posts" errorMessage="There was a problem deleting the blog post."}}
        </div>

        <div class="sixteen wide column">
            <form class="ui inverted form" id="post-remove-form" action="action">
                <div class="field">
                    <label for="title">Title</label>
                    <input type="text" id="title" name="title" placeholder="Title" value="{{title}}" disabled/>
                </div>

                <div class="field">
                    <label for="title">Slug</label>
                    <input type="text" id="slug" name="slug" placeholder="Slug" value="{{slug}}" disabled/>
                </div>

                <div class="field">
                    <label for="title">Tags</label>
                    <input type="text" id="tags" name="tags" placeholder="Tags" value="{{tags}}" disabled/>
                </div>

                <div class="field">
                    <label for="content">Content</label>
                    <textarea id="content" name="content" placeholder="Write something!" value="{{content}}" disabled></textarea>
                </div>

                <div class="field">
                    <input type="submit" id="submit-button" class="ui inverted black button" value="Delete" />
                </div>
            </form>
        </div>
    </div>
</template>